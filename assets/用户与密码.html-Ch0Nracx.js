import{_ as n,c as a,e,o as l}from"./app-DtXLoKBz.js";const t={};function i(p,s){return l(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="linux-用户登录、环境变量与密码管理" tabindex="-1"><a class="header-anchor" href="#linux-用户登录、环境变量与密码管理"><span>Linux 用户登录、环境变量与密码管理</span></a></h1><hr><h2 id="一、用户登录与环境变量切换" tabindex="-1"><a class="header-anchor" href="#一、用户登录与环境变量切换"><span>一、用户登录与环境变量切换</span></a></h2><h3 id="_1-完全切换用户环境变量的两种方法" tabindex="-1"><a class="header-anchor" href="#_1-完全切换用户环境变量的两种方法"><span>1. 完全切换用户环境变量的两种方法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 方法1：使用 su - （加载目标用户的环境变量）</span></span>
<span class="line"><span class="token function">su</span> - 用户名</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 方法2：登录时直接加载（SSH登录默认会加载）</span></span>
<span class="line"><span class="token function">ssh</span> 用户名@主机</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-环境变量查询命令" tabindex="-1"><a class="header-anchor" href="#_2-环境变量查询命令"><span>2. 环境变量查询命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 查看用户相关的环境变量</span></span>
<span class="line"><span class="token function">env</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看全系统的环境变量（包括用户定义变量）</span></span>
<span class="line"><span class="token builtin class-name">set</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="二、命令提示符-ps1-配置" tabindex="-1"><a class="header-anchor" href="#二、命令提示符-ps1-配置"><span>二、命令提示符（PS1）配置</span></a></h2><h3 id="_1-ps1-变量详解" tabindex="-1"><a class="header-anchor" href="#_1-ps1-变量详解"><span>1. PS1 变量详解</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 查看当前 PS1 配置</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token environment constant">$PS1</span></span>
<span class="line"><span class="token builtin class-name">set</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token environment constant">PS1</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 示例输出：</span></span>
<span class="line"><span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">&#39;[\\u@\\h \\W]\\$ &#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># PS1 转义字符含义：</span></span>
<span class="line"><span class="token comment"># \\u   # 显示用户名</span></span>
<span class="line"><span class="token comment"># \\h   # 显示主机名（短名称）</span></span>
<span class="line"><span class="token comment"># \\H   # 显示完整主机名</span></span>
<span class="line"><span class="token comment"># \\W   # 显示当前目录的最后一级（相对路径）</span></span>
<span class="line"><span class="token comment"># \\w   # 显示当前完整目录路径</span></span>
<span class="line"><span class="token comment"># \\t   # 显示24小时制时间（HH:MM:SS）</span></span>
<span class="line"><span class="token comment"># \\$   # 显示用户身份提示符（root为#，普通用户为$）</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-永久生效配置" tabindex="-1"><a class="header-anchor" href="#_2-永久生效配置"><span>2. 永久生效配置</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 1. 用户个人配置（仅对当前用户生效）</span></span>
<span class="line"><span class="token comment"># 编辑用户家目录下的配置文件</span></span>
<span class="line"><span class="token function">vim</span> ~/.bash_profile</span>
<span class="line"><span class="token comment"># 添加：PS1=&#39;[\\u@\\h \\w]\\$&#39;</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">&quot;[\\[<span class="token entity" title="\\e">\\e</span>[34;1m\\]\\u@\\[<span class="token entity" title="\\e">\\e</span>[0m\\]\\[<span class="token entity" title="\\e">\\e</span>[32;1m\\]\\H\\[<span class="token entity" title="\\e">\\e</span>[0m\\] \\[<span class="token entity" title="\\e">\\e</span>[31;1m\\]\\w\\[<span class="token entity" title="\\e">\\e</span>[0m\\]]<span class="token entity" title="\\\\">\\\\</span>$&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. 全局系统配置（对所有用户生效）</span></span>
<span class="line"><span class="token comment"># 需要root权限</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/profile</span>
<span class="line"><span class="token comment"># 添加：PS1=&#39;[\\u@\\h \\w]\\$&#39;</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">&quot;[\\[<span class="token entity" title="\\e">\\e</span>[34;1m\\]\\u@\\[<span class="token entity" title="\\e">\\e</span>[0m\\]\\[<span class="token entity" title="\\e">\\e</span>[32;1m\\]\\H\\[<span class="token entity" title="\\e">\\e</span>[0m\\] \\[<span class="token entity" title="\\e">\\e</span>[31;1m\\]\\w\\[<span class="token entity" title="\\e">\\e</span>[0m\\]]<span class="token entity" title="\\\\">\\\\</span>$&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">source</span> ~/.bash_profile     <span class="token comment"># 对当前用户</span></span>
<span class="line"><span class="token builtin class-name">source</span> /etc/profile        <span class="token comment"># 对所有用户（需要重新登录或source）</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="三、用户环境变量损坏修复" tabindex="-1"><a class="header-anchor" href="#三、用户环境变量损坏修复"><span>三、用户环境变量损坏修复</span></a></h2><h3 id="_1-常见错误现象" tabindex="-1"><a class="header-anchor" href="#_1-常见错误现象"><span>1. 常见错误现象</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 切换用户时出现警告</span></span>
<span class="line"><span class="token function">su</span> - user1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 输出：</span></span>
<span class="line"><span class="token comment"># 上一次登录：四 3月 17 09:51:51 CST 2022pts/0 上</span></span>
<span class="line"><span class="token comment"># su: 警告：无法更改到 /home/user1 目录: 没有那个文件或目录</span></span>
<span class="line"><span class="token comment"># -bash-4.2$</span></span>
<span class="line"><span class="token comment"># -bash-4.2$ echo $PS1</span></span>
<span class="line"><span class="token comment"># \\s-\\v\\$</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-问题原因" tabindex="-1"><a class="header-anchor" href="#_2-问题原因"><span>2. 问题原因</span></a></h3><table><thead><tr><th style="text-align:center;">序号</th><th style="text-align:left;">原因说明</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:left;">用户家目录 <code>/home/user1</code> 不存在</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:left;">家目录中缺少用户配置文件（从 <code>/etc/skel</code> 复制）</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:left;">系统无法加载用户的个人环境变量配置</td></tr></tbody></table><h3 id="_3-修复步骤" tabindex="-1"><a class="header-anchor" href="#_3-修复步骤"><span>3. 修复步骤</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 1. 创建用户家目录（如果不存在）</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/user1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. 从模板目录复制配置文件</span></span>
<span class="line"><span class="token function">cp</span> <span class="token parameter variable">-r</span> /etc/skel/. /home/user1/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. 设置正确的所有权</span></span>
<span class="line"><span class="token function">chown</span> <span class="token parameter variable">-R</span> user1:user1 /home/user1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 4. 设置正确的权限</span></span>
<span class="line"><span class="token function">chmod</span> <span class="token number">700</span> /home/user1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 5. 重新切换用户测试</span></span>
<span class="line"><span class="token function">su</span> - user1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-快速修复命令" tabindex="-1"><a class="header-anchor" href="#_4-快速修复命令"><span>4. 快速修复命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 一键修复（需要root权限）</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/user1 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token function">cp</span> <span class="token parameter variable">-r</span> /etc/skel/. /home/user1 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token function">chown</span> <span class="token parameter variable">-R</span> user1:user1 /home/user1 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token function">chmod</span> <span class="token number">700</span> /home/user1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="四、用户密码管理" tabindex="-1"><a class="header-anchor" href="#四、用户密码管理"><span>四、用户密码管理</span></a></h2><h3 id="_1-三种修改密码的方式" tabindex="-1"><a class="header-anchor" href="#_1-三种修改密码的方式"><span>1. 三种修改密码的方式</span></a></h3><p><strong>方式一：交互式修改（推荐）</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># root用户修改其他用户密码</span></span>
<span class="line"><span class="token function">passwd</span> 用户名</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 用户修改自己的密码</span></span>
<span class="line"><span class="token function">passwd</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>方式二：非交互式修改（脚本中使用）</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 使用 echo + passwd --stdin</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;新密码&#39;</span> <span class="token operator">|</span> <span class="token function">passwd</span> <span class="token parameter variable">--stdin</span> 用户名</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 示例：</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;MyPassword123&#39;</span> <span class="token operator">|</span> <span class="token function">passwd</span> <span class="token parameter variable">--stdin</span> user1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>方式三：批量修改或文件导入</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 方法1：使用 echo + chpasswd</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;用户名:新密码&#39;</span> <span class="token operator">|</span> chpasswd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 示例：</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;user1:MyPassword123&#39;</span> <span class="token operator">|</span> chpasswd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 方法2：从文件批量修改</span></span>
<span class="line"><span class="token comment"># 创建密码文件</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;user1:pass1&#39;</span> <span class="token operator">&gt;</span> pass.txt</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;user2:pass2&#39;</span> <span class="token operator">&gt;&gt;</span> pass.txt</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 批量设置</span></span>
<span class="line"><span class="token function">cat</span> pass.txt <span class="token operator">|</span> chpasswd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 方法3：直接使用 passwd 从文件读取</span></span>
<span class="line"><span class="token comment"># 创建包含密码的文件</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;MyPassword123&#39;</span> <span class="token operator">&gt;</span> password.txt</span>
<span class="line"><span class="token function">cat</span> password.txt <span class="token operator">|</span> <span class="token function">passwd</span> <span class="token parameter variable">--stdin</span> user1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-密码策略相关命令" tabindex="-1"><a class="header-anchor" href="#_2-密码策略相关命令"><span>2. 密码策略相关命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 查看密码过期信息</span></span>
<span class="line">chage <span class="token parameter variable">-l</span> 用户名</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置密码过期策略</span></span>
<span class="line">chage <span class="token parameter variable">-M</span> <span class="token number">90</span> 用户名      <span class="token comment"># 90天后密码过期</span></span>
<span class="line">chage <span class="token parameter variable">-W</span> <span class="token number">7</span> 用户名       <span class="token comment"># 提前7天警告</span></span>
<span class="line">chage <span class="token parameter variable">-d</span> <span class="token number">0</span> 用户名       <span class="token comment"># 强制下次登录修改密码</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 锁定/解锁用户账户</span></span>
<span class="line"><span class="token function">passwd</span> <span class="token parameter variable">-l</span> 用户名        <span class="token comment"># 锁定</span></span>
<span class="line"><span class="token function">passwd</span> <span class="token parameter variable">-u</span> 用户名        <span class="token comment"># 解锁</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-安全建议" tabindex="-1"><a class="header-anchor" href="#_3-安全建议"><span>3. 安全建议</span></a></h3><table><thead><tr><th style="text-align:center;">序号</th><th style="text-align:left;">建议内容</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:left;">使用复杂密码</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:left;">定期更换密码</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:left;">不要使用明文存储密码</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:left;">为不同服务使用不同密码</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:left;">启用密码策略（通过 <code>/etc/login.defs</code> 配置）</td></tr></tbody></table><hr><h2 id="五、实用技巧" tabindex="-1"><a class="header-anchor" href="#五、实用技巧"><span>五、实用技巧</span></a></h2><h3 id="_1-快速查看所有用户的家目录" tabindex="-1"><a class="header-anchor" href="#_1-快速查看所有用户的家目录"><span>1. 快速查看所有用户的家目录</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 查看系统中所有用户及其家目录</span></span>
<span class="line"><span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">cut</span> -d: -f1,6</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 仅查看普通用户</span></span>
<span class="line"><span class="token function">awk</span> -F: <span class="token string">&#39;$3 &gt;= 1000 &amp;&amp; $3 != 65534 {print $1 &quot; : &quot; $6}&#39;</span> /etc/passwd</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-检查用户配置是否完整" tabindex="-1"><a class="header-anchor" href="#_2-检查用户配置是否完整"><span>2. 检查用户配置是否完整</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 检查用户是否有完整的配置文件</span></span>
<span class="line"><span class="token function">ls</span> <span class="token parameter variable">-la</span> /home/用户名/ <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">&#39;\\.bashrc|\\.bash_profile|\\.profile&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-批量修复用户配置" tabindex="-1"><a class="header-anchor" href="#_3-批量修复用户配置"><span>3. 批量修复用户配置</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 修复多个用户的环境配置</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">user</span> <span class="token keyword">in</span> user1 user2 user3<span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;/home/<span class="token variable">$user</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">        <span class="token function">cp</span> /etc/skel/.bash* /home/<span class="token variable">$user</span>/</span>
<span class="line">        <span class="token function">chown</span> <span class="token variable">$user</span><span class="token builtin class-name">:</span><span class="token variable">$user</span> /home/<span class="token variable">$user</span>/.bash*</span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-环境变量相关文件加载顺序" tabindex="-1"><a class="header-anchor" href="#_4-环境变量相关文件加载顺序"><span>4. 环境变量相关文件加载顺序</span></a></h3><table><thead><tr><th style="text-align:center;">序号</th><th style="text-align:left;">配置文件</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:left;"><code>/etc/profile</code></td><td style="text-align:left;">系统全局配置</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:left;"><code>/etc/profile.d/*.sh</code></td><td style="text-align:left;">全局脚本目录</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:left;"><code>~/.bash_profile</code></td><td style="text-align:left;">用户个人配置（优先）</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:left;"><code>~/.bashrc</code></td><td style="text-align:left;">用户交互式shell配置</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:left;"><code>~/.profile</code></td><td style="text-align:left;">部分系统使用</td></tr></tbody></table><hr><h2 id="六、总结" tabindex="-1"><a class="header-anchor" href="#六、总结"><span>六、总结</span></a></h2><table><thead><tr><th style="text-align:left;">操作类型</th><th style="text-align:left;">主要命令</th><th style="text-align:left;">适用场景</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>用户切换</strong></td><td style="text-align:left;"><code>su - 用户</code></td><td style="text-align:left;">完全切换用户环境</td></tr><tr><td style="text-align:left;"><strong>环境变量</strong></td><td style="text-align:left;"><code>env</code>, <code>set</code>, <code>echo $PS1</code></td><td style="text-align:left;">查看和配置环境</td></tr><tr><td style="text-align:left;"><strong>PS1配置</strong></td><td style="text-align:left;"><code>PS1=&#39;格式&#39;</code></td><td style="text-align:left;">自定义命令提示符</td></tr><tr><td style="text-align:left;"><strong>密码修改</strong></td><td style="text-align:left;"><code>passwd</code>, <code>chpasswd</code></td><td style="text-align:left;">单用户/批量修改</td></tr><tr><td style="text-align:left;"><strong>修复配置</strong></td><td style="text-align:left;"><code>cp /etc/skel/. ~/</code></td><td style="text-align:left;">修复损坏的用户环境</td></tr><tr><td style="text-align:left;"><strong>权限修复</strong></td><td style="text-align:left;"><code>chown</code>, <code>chmod</code></td><td style="text-align:left;">修复文件所有权和权限</td></tr></tbody></table>`,49)])])}const d=n(t,[["render",i]]),r=JSON.parse('{"path":"/01-Linux%E5%9F%BA%E7%A1%80/02-%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/%E7%94%A8%E6%88%B7%E4%B8%8E%E5%AF%86%E7%A0%81.html","title":"Linux 用户登录、环境变量与密码管理","lang":"zh-CN","frontmatter":{},"git":{"contributors":[{"name":"opsjjq","username":"opsjjq","email":"wangyp987@gmail.com","commits":1,"url":"https://github.com/opsjjq"}],"changelog":[{"hash":"ca8e661b7c6729c958583ed3d1a001b6de398273","time":1771558748000,"email":"wangyp987@gmail.com","author":"opsjjq","message":"222"}]},"filePathRelative":"01-Linux基础/02-用户与权限管理/用户与密码.md"}');export{d as comp,r as data};
