import{_ as n,c as a,e,o as l}from"./app-DtXLoKBz.js";const i={};function p(t,s){return l(),a("div",null,[...s[0]||(s[0]=[e(`<h2 id="一、nginx-访客日志切割" tabindex="-1"><a class="header-anchor" href="#一、nginx-访客日志切割"><span>一、Nginx 访客日志切割</span></a></h2><h3 id="_1-1-手动日志切割原理" tabindex="-1"><a class="header-anchor" href="#_1-1-手动日志切割原理"><span>1.1 手动日志切割原理</span></a></h3><p><strong>核心思路</strong>：</p><ol><li>备份当前日志文件</li><li>让 Nginx 重新生成新日志文件</li></ol><p><strong>操作步骤</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 1. 备份旧日志文件</span></span>
<span class="line"><span class="token builtin class-name">cd</span> /var/log/nginx <span class="token operator">&amp;&amp;</span> <span class="token function">mv</span> access.log access.log.<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token string">&#39;+%F&#39;</span><span class="token variable">)</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. 向 Nginx 发送 USR1 信号重新生成日志</span></span>
<span class="line"><span class="token function">kill</span> <span class="token parameter variable">-USR1</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> nginx <span class="token operator">|</span> <span class="token function">grep</span> master <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">)</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 或使用 reopen 命令</span></span>
<span class="line">nginx <span class="token parameter variable">-s</span> reopen</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>生成测试日志</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 使用 curl 循环请求</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">10000</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">curl</span> http://10.0.0.8/<span class="token punctuation">;</span> <span class="token keyword">done</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 使用 ab 压力测试工具（支持并发）</span></span>
<span class="line">yum <span class="token function">install</span> httpd-tools <span class="token parameter variable">-y</span></span>
<span class="line">ab <span class="token parameter variable">-c</span> <span class="token number">100</span> <span class="token parameter variable">-n</span> <span class="token number">10000</span> http://10.0.0.8/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_1-2-shell-脚本自动化切割" tabindex="-1"><a class="header-anchor" href="#_1-2-shell-脚本自动化切割"><span>1.2 Shell 脚本自动化切割</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token comment"># nginx_log_rotate.sh</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 日志目录</span></span>
<span class="line"><span class="token assign-left variable">logs_path</span><span class="token operator">=</span><span class="token string">&quot;/var/log/nginx&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 备份目录（以昨天日期命名）</span></span>
<span class="line"><span class="token assign-left variable">back_logs_path</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${logs_path}</span>/<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token parameter variable">-d</span> <span class="token string">&#39;yesterday&#39;</span> +<span class="token string">&#39;%F&#39;</span><span class="token variable">)</span></span>&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建备份目录</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">\${back_logs_path}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重命名并移动旧日志</span></span>
<span class="line"><span class="token builtin class-name">cd</span> <span class="token variable">\${logs_path}</span> <span class="token operator">&amp;&amp;</span> <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-name</span> <span class="token string">&quot;*.log&quot;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-I</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token function">mv</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>.<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token parameter variable">-d</span> <span class="token string">&#39;yesterday&#39;</span> +<span class="token string">&#39;%F&#39;</span><span class="token variable">)</span></span></span>
<span class="line"><span class="token builtin class-name">cd</span> <span class="token variable">\${logs_path}</span> <span class="token operator">&amp;&amp;</span> <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-name</span> <span class="token string">&quot;*.log.*&quot;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-I</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token function">mv</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token variable">\${back_logs_path}</span>/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重新生成日志</span></span>
<span class="line"><span class="token function">kill</span> <span class="token parameter variable">-USR1</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> nginx <span class="token operator">|</span> <span class="token function">grep</span> master <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">)</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>添加定时任务</strong>：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line"># 每天 0 点执行</span>
<span class="line">crontab -e</span>
<span class="line">0 0 * * * /bin/bash /my_shell/nginx_log_rotate.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_1-3-使用-logrotate-工具切割" tabindex="-1"><a class="header-anchor" href="#_1-3-使用-logrotate-工具切割"><span>1.3 使用 logrotate 工具切割</span></a></h3><h4 id="_1-3-1-yum-安装的-nginx" tabindex="-1"><a class="header-anchor" href="#_1-3-1-yum-安装的-nginx"><span>1.3.1 Yum 安装的 Nginx</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 默认配置文件</span></span>
<span class="line"><span class="token function">cat</span> /etc/logrotate.d/nginx</span>
<span class="line"></span>
<span class="line">/var/log/nginx/*.log <span class="token punctuation">{</span></span>
<span class="line">    daily              <span class="token comment"># 每天切割</span></span>
<span class="line">    missingok          <span class="token comment"># 忽略错误</span></span>
<span class="line">    rotate <span class="token number">52</span>          <span class="token comment"># 保留 52 个备份</span></span>
<span class="line">    compress           <span class="token comment"># 压缩备份</span></span>
<span class="line">    delaycompress      <span class="token comment"># 延迟压缩（下次切割时压缩）</span></span>
<span class="line">    notifempty         <span class="token comment"># 空文件不切割</span></span>
<span class="line">    create <span class="token number">640</span> nginx adm  <span class="token comment"># 新文件权限</span></span>
<span class="line">    sharedscripts      <span class="token comment"># 共享脚本</span></span>
<span class="line">    postrotate         <span class="token comment"># 切割后执行</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /var/run/nginx.pid <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">            <span class="token function">kill</span> <span class="token parameter variable">-USR1</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> /var/run/nginx.pid<span class="token variable">)</span></span></span>
<span class="line">        <span class="token keyword">fi</span></span>
<span class="line">    endscript</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-2-编译安装的-tengine" tabindex="-1"><a class="header-anchor" href="#_1-3-2-编译安装的-tengine"><span>1.3.2 编译安装的 Tengine</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">cat</span> <span class="token operator">&gt;</span> /etc/logrotate.d/tengine <span class="token operator">&lt;&lt;</span><span class="token string">EOF</span>
<span class="line">/opt/ngx/logs/*.log {</span>
<span class="line">    daily</span>
<span class="line">    missingok</span>
<span class="line">    rotate 52</span>
<span class="line">    compress</span>
<span class="line">    delaycompress</span>
<span class="line">    notifempty</span>
<span class="line">    create 640 nginx adm</span>
<span class="line">    sharedscripts</span>
<span class="line">    postrotate</span>
<span class="line">        if [ -f /opt/ngx/sbin/tengine.pid ]; then</span>
<span class="line">            kill -USR1 \\<span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> /opt/ngx/sbin/tengine.pid<span class="token variable">)</span></span></span>
<span class="line">        fi</span>
<span class="line">    endscript</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>测试 logrotate</strong>：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line"># 手动执行切割</span>
<span class="line">logrotate -f /etc/logrotate.d/nginx</span>
<span class="line"></span>
<span class="line"># 添加到定时任务</span>
<span class="line">0 0 * * * logrotate -f /etc/logrotate.d/nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="二、目录索引与文件下载服务" tabindex="-1"><a class="header-anchor" href="#二、目录索引与文件下载服务"><span>二、目录索引与文件下载服务</span></a></h2><h3 id="_2-1-配置目录索引" tabindex="-1"><a class="header-anchor" href="#_2-1-配置目录索引"><span>2.1 配置目录索引</span></a></h3><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx"><pre><code class="language-nginx"><span class="line"><span class="token comment"># /etc/nginx/conf.d/autoindex.conf</span></span>
<span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">11111</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">server_name</span> _</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">root</span> /opt</span><span class="token punctuation">;</span>                  <span class="token comment"># 根目录</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">autoindex</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>               <span class="token comment"># 开启目录索引</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">autoindex_localtime</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>     <span class="token comment"># 显示本地时间</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">autoindex_exact_size</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span>   <span class="token comment"># 显示文件大小（KB/MB）</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">charset</span> utf-8</span><span class="token punctuation">;</span>              <span class="token comment"># 支持中文文件名</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2-2-重启测试" tabindex="-1"><a class="header-anchor" href="#_2-2-重启测试"><span>2.2 重启测试</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 检查端口</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-tunlp</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">11111</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 测试访问</span></span>
<span class="line"><span class="token function">curl</span> http://10.0.0.8:11111/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 使用 wget 下载文件</span></span>
<span class="line"><span class="token function">wget</span> http://10.0.0.8:11111/path/to/file</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="三、nginx-连接状态监控" tabindex="-1"><a class="header-anchor" href="#三、nginx-连接状态监控"><span>三、Nginx 连接状态监控</span></a></h2><h3 id="_3-1-stub-status-模块配置" tabindex="-1"><a class="header-anchor" href="#_3-1-stub-status-模块配置"><span>3.1 stub_status 模块配置</span></a></h3><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx"><pre><code class="language-nginx"><span class="line"><span class="token comment"># /etc/nginx/conf.d/status.conf</span></span>
<span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">9999</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">server_name</span> localhost</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token directive"><span class="token keyword">stub_status</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>      <span class="token comment"># 开启状态监控</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">access_log</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span>      <span class="token comment"># 关闭访问日志</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 可添加访问控制</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">allow</span> 10.0.0.0/24</span><span class="token punctuation">;</span>  <span class="token comment"># 允许内网访问</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">deny</span> all</span><span class="token punctuation">;</span>            <span class="token comment"># 拒绝其他所有</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3-2-测试访问" tabindex="-1"><a class="header-anchor" href="#_3-2-测试访问"><span>3.2 测试访问</span></a></h3><p>访问 <code>http://10.0.0.8:9999/</code> 显示类似信息：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">Active connections: 2</span>
<span class="line">server accepts handled requests</span>
<span class="line"> 10 10 20</span>
<span class="line">Reading: 0 Writing: 1 Waiting: 1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3-3-状态信息解释" tabindex="-1"><a class="header-anchor" href="#_3-3-状态信息解释"><span>3.3 状态信息解释</span></a></h3><table><thead><tr><th style="text-align:left;">项目</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Active connections</strong></td><td style="text-align:left;">当前活动连接数</td></tr><tr><td style="text-align:left;"><strong>server accepts</strong></td><td style="text-align:left;">已接受的总连接数</td></tr><tr><td style="text-align:left;"><strong>server handled</strong></td><td style="text-align:left;">已处理的连接数</td></tr><tr><td style="text-align:left;"><strong>server requests</strong></td><td style="text-align:left;">总请求数</td></tr><tr><td style="text-align:left;"><strong>Reading</strong></td><td style="text-align:left;">正在读取请求头的连接数</td></tr><tr><td style="text-align:left;"><strong>Writing</strong></td><td style="text-align:left;">正在写入响应的连接数</td></tr><tr><td style="text-align:left;"><strong>Waiting</strong></td><td style="text-align:left;">空闲连接数（keep-alive）</td></tr></tbody></table><hr><h3 id="_3-4-性能压力测试" tabindex="-1"><a class="header-anchor" href="#_3-4-性能压力测试"><span>3.4 性能压力测试</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 使用 ab 进行压力测试</span></span>
<span class="line">ab <span class="token parameter variable">-c</span> <span class="token number">100</span> <span class="token parameter variable">-n</span> <span class="token number">100000</span> http://10.0.0.8/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 监控实时连接状态</span></span>
<span class="line"><span class="token function">watch</span> <span class="token parameter variable">-n</span> <span class="token number">1</span> <span class="token string">&quot;curl -s http://10.0.0.8:9999/&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看端口连接详情</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-an</span> <span class="token operator">|</span> <span class="token function">grep</span> :9999</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="四、url-结构解析示例" tabindex="-1"><a class="header-anchor" href="#四、url-结构解析示例"><span>四、URL 结构解析示例</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">http://www.qwe.com/test1.jpg</span>
<span class="line">└─┬─┘ └────┬─────┘ └──┬──┘</span>
<span class="line"> 协议      域名      资源路径</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="五、实践作业要求" tabindex="-1"><a class="header-anchor" href="#五、实践作业要求"><span>五、实践作业要求</span></a></h2><h3 id="_5-1-日志切割实践" tabindex="-1"><a class="header-anchor" href="#_5-1-日志切割实践"><span>5.1 日志切割实践</span></a></h3><ol><li>手动实现 Shell 脚本切割</li><li>配置 logrotate 自动切割</li><li>测试两种方式的切割效果</li></ol><h3 id="_5-2-目录索引功能" tabindex="-1"><a class="header-anchor" href="#_5-2-目录索引功能"><span>5.2 目录索引功能</span></a></h3><ol><li>创建文件下载服务器</li><li>配置支持中文文件名显示</li><li>提供 Python3 RPM 包下载服务</li></ol><h3 id="_5-3-状态监控配置" tabindex="-1"><a class="header-anchor" href="#_5-3-状态监控配置"><span>5.3 状态监控配置</span></a></h3><ol><li>开启 stub_status 模块</li><li>进行压力测试观察连接数变化</li><li>分析连接状态各个参数含义</li></ol>`,53)])])}const o=n(i,[["render",p]]),r=JSON.parse('{"path":"/04-Web%E6%9E%B6%E6%9E%84/02-nginx/nginx%E5%8A%9F%E8%83%BD.html","title":"","lang":"zh-CN","frontmatter":{},"git":{"contributors":[{"name":"opsjjq","username":"opsjjq","email":"wangyp987@gmail.com","commits":1,"url":"https://github.com/opsjjq"}],"changelog":[{"hash":"ca8e661b7c6729c958583ed3d1a001b6de398273","time":1771558748000,"email":"wangyp987@gmail.com","author":"opsjjq","message":"222"}]},"filePathRelative":"04-Web架构/02-nginx/nginx功能.md"}');export{o as comp,r as data};
