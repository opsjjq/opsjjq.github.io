# CI/CD与Git版本控制

## 一、传统项目部署流程

### 1. 传统部署流程概述

1. **获取源代码**
   - 公司使用代码仓库（GitHub、GitLab、Gitee等）进行源代码管理
   - 开发人员推送代码至仓库，运维或测试人员从仓库获取代码
2. **准备环境**
   - **测试环境**：用于内部测试，验证功能与发现Bug，不对外开放
   - **生产环境**：面向真实用户，通过测试后方可部署
   - 环境组件示例：Linux + MySQL + PHP-FPM + Nginx
3. **启动服务**
   - 参照类似WordPress的部署流程
4. **运行维护**
   - 运维负责环境准备、软件发布与系统监控
   - 测试人员负责功能测试，确保系统稳定性
   - 上线后可能出现未知Bug，需团队协作修复
5. **项目更新**
   - 开发推送新版本代码至仓库
   - 运维通过手动或脚本方式更新代码、重启服务
   - 测试验证功能是否正常
6. **为何需要CI/CD？**
   - 业务复杂、系统众多时，手动部署效率低下
   - 不同语言（PHP、Python、Java）部署方式各异
   - 自动化部署可提升效率，实现快速迭代

---

## 二、什么是CI/CD？

CI/CD是一套工具链，更是一种**工程实践和文化转变**，通过自动化软件交付流程实现：

- 更快的交付速度
- 更高的代码质量
- 更稳的发布过程
- 更好的团队协作

### 1. CI（持续集成）

- **定义**：开发人员频繁地将代码变更集成到共享仓库中，每次集成都通过自动化构建和测试来验证
- **核心理念**：
  - 代码频繁合并（通常每天多次）
  - 自动化构建和测试
  - 快速发现并修复集成错误

### 2. CD（持续交付）

- **定义**：在持续集成的基础上，确保代码始终处于可部署状态，可以随时手动或自动部署到生产环境
- **核心理念**：
  - 自动化部署流程
  - 环境一致性
  - 可重复的部署过程

### 3. 持续部署

- **定义**：持续交付的延伸，代码通过所有测试后自动部署到生产环境，无需人工干预
- **核心理念**：
  - 全自动化发布
  - 快速迭代
  - 降低发布风险

---

## 三、什么是版本控制系统？

```text
记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。
```

### 1. 版本控制的作用

- 管理代码与配置文件的多个版本
- 支持版本回溯、对比与协作

### 2. 自动化构建与测试

- 多机部署时，手动发布效率低
- CI/CD流水线可集成代码扫描、自动化测试，确保代码质量
- DevOps理念：开发、测试、运维协同工作，实现持续集成与持续交付

### 3. 常用工具

- Git：分布式版本控制系统
- Jenkins：自动化构建工具
- GitLab：私有代码仓库
- SonarQube：代码质量扫描工具

---

## 四、DevOps成长路径

### 学习重点

1. 理解DevOps体系与CI/CD理念
2. 掌握Git工具的基本使用

### 技能发展

- 从手动运维到自动化脚本
- 从单一维护到流水线设计与维护
- 最终实现全自动化部署与监控

---

## 总结

本文系统介绍了CI/CD的基本概念、传统部署流程的痛点，以及Git版本控制系统的核心使用方法。通过掌握这些基础知识，您可以为后续学习Jenkins、GitLab CI/CD等自动化工具打下坚实基础，逐步迈向DevOps工程师的成长之路。
